

<link rel="stylesheet" href="{{ url_for('static', filename='post.css') }}">

<div class="post-item" data-post-id="{{ post_data.id }}">
    <div class="post-header">
        <div class="post-author">
            <div class="author-avatar">👤</div>
            <div class="author-info">
                <span class="author-name">{{ post_data.owner_name }}</span>
                <span class="post-time">{{ post_data.created_at.strftime('%B %d, %Y') }}</span>
            </div>
        </div>
        {% if post_data.owner_name == username %}
        <div class="post-actions">
            <button class="btn-delete" onclick="deletePost({{ post_data.id }})" title="Delete Post">🗑️</button>
        </div>
        {% endif %}
    </div>

    <div class="post-content">
        <img src="{{ url_for('static', filename=post_data.image_path) }}" alt="Post image" class="post-image">
    </div>

    <div class="post-footer">
        <div class="post-stats">

            <div class="post-likes-container">
                <button
                    id="like-button-{{post_data.id}}"
                    class="post-likes"
                    hx-post="/api/like_post/{{ post_data.id }}"
                    hx-target="#like-count-{{ post_data.id}}"
                    hx-swap="innerHTML"
                    >{% set user_liked = username in post_data.likes | map(attribute='username') | list %}
                    {%if user_liked%}
                    🩷
                    {%else%}
                    🩶
                    {%endif%}
                    </button>
                    <span
                        id="like-count-{{post_data.id}}"
                        class="post-likes"
                    >{{post_data.likes | length}}</span>
                </div>

            <span class="post-comments">💬 0</span>
        </div>
    </div>
</div>
